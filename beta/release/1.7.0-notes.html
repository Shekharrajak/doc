

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"/>

<head>
      <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    

      <title>NumPy 1.7.0 Release Notes &mdash; NumPy v1.17 Manual</title>
    
  

  
  
  
  

  
 <!-- TODO: remove the js file <script type="text/javascript" src="../_static/js/modernizr.min.js"></script> -->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    <!-- to search keyword -->
    <script type="text/javascript" src="../_static/searchtools.js"></script>
<!--     TODO: I don't know why these js are generated automatically by sphinx.
For search these both are not needed.

    <script type="text/javascript" src="../_static/underscore.js""></script>
    <script type="text/javascript" src="../_static/language_data.js""></script>
-->
    <script type="text/javascript" src="../searchindex.js""></script>


    <!-- math directive -->

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!-- copybutton on code highlight -->
    <script type="text/javascript" src="../_static/js/copybutton.js"></script>

    

  

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  <!-- preloader css -->
  <link rel="stylesheet" href="../_static/css/preloader.css" type="text/css" />

  <!-- preloader css -->
  <link rel="stylesheet" href="../_static/css/navbar.css" type="text/css" />

  <!-- sidebar right -->
  <link rel="stylesheet" href="../_static/css/sidebar-right.css" type="text/css" />

  <!-- footer rst -->
  <link rel="stylesheet" href="../_static/css/footer-rst.css" type="text/css" />

  <!-- code highlight -->
  <link rel="stylesheet" href="../_static/css/code-highlight.css" type="text/css" />

  <!-- mobile responsive -->
  <link rel="stylesheet" href="../_static/css/responsive.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/sidenav-mobile.css" type="text/css" />

  <!-- footer -->
  <link rel="stylesheet" href="../_static/css/extra-footer.css" type="text/css" />


  <!-- Custom modification in theme css -->
  <link rel="stylesheet" href="../_static/css/custom_theme.css" type="text/css" />

  <!-- font -->
   <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Ubuntu:regular,bold&subset=Latin">

   <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="NumPy 1.6.2 Release Notes" href="1.6.2-notes.html" />
    <link rel="prev" title="NumPy 1.7.1 Release Notes" href="1.7.1-notes.html" /> 
</head>
<div class="bg_loader">
  <div class="loader">

  </div>
</div>

<body class="wy-body-for-nav">
    <!-- navbar -->
<nav class="navbar navbar-expand-md navbar-light">
    <a class="navbar-brand navbar-left header-logo" href=""><img src="../_static/images/numpy_logo.svg"></a>
    <button type="button" class="navbar-toggler bg-light" data-toggle="collapse" data-target="#nav">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="nav">
        <ul class="nav navbar-nav">
            <li class="nav-item">
                <a class="nav-link text-dark font-weight-bold px-3" href="https://numpy.org/devdocs/user/quickstart.html">Quick Start</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-dark font-weight-bold px-3" href="https://numpy.org/devdocs">Documentation</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-dark font-weight-bold px-3" href="https://www.numpy.org/neps/index.html">NumPy Enhancement Proposals (NEPs)</a>
            </li>

            <li class="nav-item">
                <a class="nav-link text-dark font-weight-bold px-3" href="https://numpy.org/doc">Other doc versions</a>
            </li>
        </ul>
    </div>
</nav>

    <!-- mobile device -->
    <div id="sidenav-left-toggle-button">
    <a href="#mobile-sidenav-left" class="btn btn-primary btn-lg btn-block btn-primary-outline"  data-toggle="collapse"><span><i class="fa fa-arrow-circle-down"></i></span>Table of content</a>
    </div>
     
    <div class="wy-grid-for-nav row">
        
    <nav data-toggle="wy-nav-shift" class="wy-nav-side col-2">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../contents.html" class="icon icon-home"> NumPy
          

          
          </a>

          
            
            
              <div class="version">
                1.17
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">NumPy User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">NumPy Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../f2py/index.html">F2PY Users Guide and Reference Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/index.html">Contributing to NumPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docs/index.html">NumPy’s Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../release.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About NumPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html#about-this-documentation">About this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bugs.html">Reporting bugs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">NumPy License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <!-- for smaller device  < laptop size -->

    <div id="mobile-sidenav-left" class="collapse">
    <nav data-toggle="wy-nav-shift-mobile" class="wy-nav-side-mobile">
      <a href="#mobile-sidenav-left" class="close" aria-label="Close" data-toggle="collapse">
        <span aria-hidden="true">&times;</span>
      </button>
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
            <a href="../contents.html" class="icon icon-home"> NumPy
          

          
          </a>

          
            
            
              <div class="version">
                1.17
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">NumPy User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">NumPy Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../f2py/index.html">F2PY Users Guide and Reference Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/index.html">Contributing to NumPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docs/index.html">NumPy’s Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../release.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About NumPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html#about-this-documentation">About this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bugs.html">Reporting bugs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">NumPy License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

            
        </div>
      </div>


    </nav>
    </div>

    <!-- end - smaller device html code  -->

        <!-- <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"> -->
        
        <nav class="wy-nav-top" aria-label="top navigation">
            
            <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
            <a href="../contents.html">NumPy</a>
            
        </nav>
        <div class="wy-nav-content col-8">
            
                <div class="rst-content">
                    
                    















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../contents.html">Docs</a> &raquo;</li>
        
          <li><a href="../release.html">Release Notes</a> &raquo;</li>
        
      <li>NumPy 1.7.0 Release Notes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/numpy/numpy/blob/master/doc/source/release/1.7.0-notes.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
                    <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
                        <div itemprop="articleBody">
                            
  <div class="section" id="numpy-1-7-0-release-notes">
<h1>NumPy 1.7.0 Release Notes<a class="headerlink" href="#numpy-1-7-0-release-notes" title="Permalink to this headline">¶</a></h1>
<p>This release includes several new features as well as numerous bug fixes and
refactorings. It supports Python 2.4 - 2.7 and 3.1 - 3.3 and is the last
release that supports Python 2.4 - 2.5.</p>
<div class="section" id="highlights">
<h2>Highlights<a class="headerlink" href="#highlights" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">where=</span></code> parameter to ufuncs (allows the use of boolean arrays to choose
where a computation should be done)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vectorize</span></code> improvements (added ‘excluded’ and ‘cache’ keyword, general
cleanup and bug fixes)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numpy.random.choice</span></code> (random sample generating function)</p></li>
</ul>
</div>
<div class="section" id="compatibility-notes">
<h2>Compatibility notes<a class="headerlink" href="#compatibility-notes" title="Permalink to this headline">¶</a></h2>
<p>In a future version of numpy, the functions np.diag, np.diagonal, and the
diagonal method of ndarrays will return a view onto the original array,
instead of producing a copy as they do now. This makes a difference if you
write to the array returned by any of these functions. To facilitate this
transition, numpy 1.7 produces a FutureWarning if it detects that you may
be attempting to write to such an array. See the documentation for
np.diagonal for details.</p>
<p>Similar to np.diagonal above, in a future version of numpy, indexing a
record array by a list of field names will return a view onto the original
array, instead of producing a copy as they do now. As with np.diagonal,
numpy 1.7 produces a FutureWarning if it detects that you may be attempting
to write to such an array. See the documentation for array indexing for
details.</p>
<p>In a future version of numpy, the default casting rule for UFunc out=
parameters will be changed from ‘unsafe’ to ‘same_kind’. (This also applies
to in-place operations like a += b, which is equivalent to np.add(a, b,
out=a).) Most usages which violate the ‘same_kind’ rule are likely bugs, so
this change may expose previously undetected errors in projects that depend
on NumPy. In this version of numpy, such usages will continue to succeed,
but will raise a DeprecationWarning.</p>
<p>Full-array boolean indexing has been optimized to use a different,
optimized code path.   This code path should produce the same results,
but any feedback about changes to your code would be appreciated.</p>
<p>Attempting to write to a read-only array (one with <code class="docutils literal notranslate"><span class="pre">arr.flags.writeable</span></code>
set to <code class="docutils literal notranslate"><span class="pre">False</span></code>) used to raise either a RuntimeError, ValueError, or
TypeError inconsistently, depending on which code path was taken. It now
consistently raises a ValueError.</p>
<p>The &lt;ufunc&gt;.reduce functions evaluate some reductions in a different order
than in previous versions of NumPy, generally providing higher performance.
Because of the nature of floating-point arithmetic, this may subtly change
some results, just as linking NumPy to a different BLAS implementations
such as MKL can.</p>
<p>If upgrading from 1.5, then generally in 1.6 and 1.7 there have been
substantial code added and some code paths altered, particularly in the
areas of type resolution and buffered iteration over universal functions.
This might have an impact on your code particularly if you relied on
accidental behavior in the past.</p>
</div>
<div class="section" id="new-features">
<h2>New features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="reduction-ufuncs-generalize-axis-parameter">
<h3>Reduction UFuncs Generalize axis= Parameter<a class="headerlink" href="#reduction-ufuncs-generalize-axis-parameter" title="Permalink to this headline">¶</a></h3>
<p>Any ufunc.reduce function call, as well as other reductions like sum, prod,
any, all, max and min support the ability to choose a subset of the axes to
reduce over. Previously, one could say axis=None to mean all the axes or
axis=# to pick a single axis.  Now, one can also say axis=(#,#) to pick a
list of axes for reduction.</p>
</div>
<div class="section" id="reduction-ufuncs-new-keepdims-parameter">
<h3>Reduction UFuncs New keepdims= Parameter<a class="headerlink" href="#reduction-ufuncs-new-keepdims-parameter" title="Permalink to this headline">¶</a></h3>
<p>There is a new keepdims= parameter, which if set to True, doesn’t throw
away the reduction axes but instead sets them to have size one.  When this
option is set, the reduction result will broadcast correctly to the
original operand which was reduced.</p>
</div>
<div class="section" id="datetime-support">
<h3>Datetime support<a class="headerlink" href="#datetime-support" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The datetime API is <em>experimental</em> in 1.7.0, and may undergo changes
in future versions of NumPy.</p>
</div>
<p>There have been a lot of fixes and enhancements to datetime64 compared
to NumPy 1.6:</p>
<ul class="simple">
<li><p>the parser is quite strict about only accepting ISO 8601 dates, with a few
convenience extensions</p></li>
<li><p>converts between units correctly</p></li>
<li><p>datetime arithmetic works correctly</p></li>
<li><p>business day functionality (allows the datetime to be used in contexts where
only certain days of the week are valid)</p></li>
</ul>
<p>The notes in <a class="reference external" href="https://github.com/numpy/numpy/blob/maintenance/1.7.x/doc/source/reference/arrays.datetime.rst">doc/source/reference/arrays.datetime.rst</a>
(also available in the online docs at <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/arrays.datetime.html">arrays.datetime.html</a>) should be
consulted for more details.</p>
</div>
<div class="section" id="custom-formatter-for-printing-arrays">
<h3>Custom formatter for printing arrays<a class="headerlink" href="#custom-formatter-for-printing-arrays" title="Permalink to this headline">¶</a></h3>
<p>See the new <code class="docutils literal notranslate"><span class="pre">formatter</span></code> parameter of the <code class="docutils literal notranslate"><span class="pre">numpy.set_printoptions</span></code>
function.</p>
</div>
<div class="section" id="new-function-numpy-random-choice">
<h3>New function numpy.random.choice<a class="headerlink" href="#new-function-numpy-random-choice" title="Permalink to this headline">¶</a></h3>
<p>A generic sampling function has been added which will generate samples from
a given array-like. The samples can be with or without replacement, and
with uniform or given non-uniform probabilities.</p>
</div>
<div class="section" id="new-function-isclose">
<h3>New function isclose<a class="headerlink" href="#new-function-isclose" title="Permalink to this headline">¶</a></h3>
<p>Returns a boolean array where two arrays are element-wise equal within a
tolerance. Both relative and absolute tolerance can be specified.</p>
</div>
<div class="section" id="preliminary-multi-dimensional-support-in-the-polynomial-package">
<h3>Preliminary multi-dimensional support in the polynomial package<a class="headerlink" href="#preliminary-multi-dimensional-support-in-the-polynomial-package" title="Permalink to this headline">¶</a></h3>
<p>Axis keywords have been added to the integration and differentiation
functions and a tensor keyword was added to the evaluation functions.
These additions allow multi-dimensional coefficient arrays to be used in
those functions. New functions for evaluating 2-D and 3-D coefficient
arrays on grids or sets of points were added together with 2-D and 3-D
pseudo-Vandermonde matrices that can be used for fitting.</p>
</div>
<div class="section" id="ability-to-pad-rank-n-arrays">
<h3>Ability to pad rank-n arrays<a class="headerlink" href="#ability-to-pad-rank-n-arrays" title="Permalink to this headline">¶</a></h3>
<p>A pad module containing functions for padding n-dimensional arrays has been
added. The various private padding functions are exposed as options to a
public ‘pad’ function.  Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pad</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Current modes are <code class="docutils literal notranslate"><span class="pre">constant</span></code>, <code class="docutils literal notranslate"><span class="pre">edge</span></code>, <code class="docutils literal notranslate"><span class="pre">linear_ramp</span></code>, <code class="docutils literal notranslate"><span class="pre">maximum</span></code>,
<code class="docutils literal notranslate"><span class="pre">mean</span></code>, <code class="docutils literal notranslate"><span class="pre">median</span></code>, <code class="docutils literal notranslate"><span class="pre">minimum</span></code>, <code class="docutils literal notranslate"><span class="pre">reflect</span></code>, <code class="docutils literal notranslate"><span class="pre">symmetric</span></code>, <code class="docutils literal notranslate"><span class="pre">wrap</span></code>, and
<code class="docutils literal notranslate"><span class="pre">&lt;function&gt;</span></code>.</p>
</div>
<div class="section" id="new-argument-to-searchsorted">
<h3>New argument to searchsorted<a class="headerlink" href="#new-argument-to-searchsorted" title="Permalink to this headline">¶</a></h3>
<p>The function searchsorted now accepts a ‘sorter’ argument that is a
permutation array that sorts the array to search.</p>
</div>
<div class="section" id="build-system">
<h3>Build system<a class="headerlink" href="#build-system" title="Permalink to this headline">¶</a></h3>
<p>Added experimental support for the AArch64 architecture.</p>
</div>
<div class="section" id="c-api">
<h3>C API<a class="headerlink" href="#c-api" title="Permalink to this headline">¶</a></h3>
<p>New function <code class="docutils literal notranslate"><span class="pre">PyArray_RequireWriteable</span></code> provides a consistent interface
for checking array writeability – any C code which works with arrays whose
WRITEABLE flag is not known to be True a priori, should make sure to call
this function before writing.</p>
<p>NumPy C Style Guide added (<code class="docutils literal notranslate"><span class="pre">doc/C_STYLE_GUIDE.rst.txt</span></code>).</p>
</div>
</div>
<div class="section" id="changes">
<h2>Changes<a class="headerlink" href="#changes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general">
<h3>General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h3>
<p>The function np.concatenate tries to match the layout of its input arrays.
Previously, the layout did not follow any particular reason, and depended
in an undesirable way on the particular axis chosen for concatenation. A
bug was also fixed which silently allowed out of bounds axis arguments.</p>
<p>The ufuncs logical_or, logical_and, and logical_not now follow Python’s
behavior with object arrays, instead of trying to call methods on the
objects. For example the expression (3 and ‘test’) produces the string
‘test’, and now np.logical_and(np.array(3, ‘O’), np.array(‘test’, ‘O’))
produces ‘test’ as well.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.base</span></code> attribute on ndarrays, which is used on views to ensure that the
underlying array owning the memory is not deallocated prematurely, now
collapses out references when you have a view-of-a-view. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</pre></div>
</div>
<p>In numpy 1.6, <code class="docutils literal notranslate"><span class="pre">c.base</span></code> is <code class="docutils literal notranslate"><span class="pre">b</span></code>, and <code class="docutils literal notranslate"><span class="pre">c.base.base</span></code> is <code class="docutils literal notranslate"><span class="pre">a</span></code>. In numpy 1.7,
<code class="docutils literal notranslate"><span class="pre">c.base</span></code> is <code class="docutils literal notranslate"><span class="pre">a</span></code>.</p>
<p>To increase backwards compatibility for software which relies on the old
behaviour of <code class="docutils literal notranslate"><span class="pre">.base</span></code>, we only ‘skip over’ objects which have exactly the same
type as the newly created view. This makes a difference if you use <code class="docutils literal notranslate"><span class="pre">ndarray</span></code>
subclasses. For example, if we have a mix of <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> and <code class="docutils literal notranslate"><span class="pre">matrix</span></code> objects
which are all views on the same original <code class="docutils literal notranslate"><span class="pre">ndarray</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asmatrix</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">:]</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">:]</span>
</pre></div>
</div>
<p>then <code class="docutils literal notranslate"><span class="pre">d.base</span></code> will be <code class="docutils literal notranslate"><span class="pre">b</span></code>. This is because <code class="docutils literal notranslate"><span class="pre">d</span></code> is a <code class="docutils literal notranslate"><span class="pre">matrix</span></code> object,
and so the collapsing process only continues so long as it encounters other
<code class="docutils literal notranslate"><span class="pre">matrix</span></code> objects. It considers <code class="docutils literal notranslate"><span class="pre">c</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>, and <code class="docutils literal notranslate"><span class="pre">a</span></code> in that order, and
<code class="docutils literal notranslate"><span class="pre">b</span></code> is the last entry in that list which is a <code class="docutils literal notranslate"><span class="pre">matrix</span></code> object.</p>
</div>
<div class="section" id="casting-rules">
<h3>Casting Rules<a class="headerlink" href="#casting-rules" title="Permalink to this headline">¶</a></h3>
<p>Casting rules have undergone some changes in corner cases, due to the
NA-related work. In particular for combinations of scalar+scalar:</p>
<ul class="simple">
<li><p>the <em class="xref py py-obj">longlong</em> type (<em class="xref py py-obj">q</em>) now stays <em class="xref py py-obj">longlong</em> for operations with any other
number (<em class="xref py py-obj">? b h i l q p B H I</em>), previously it was cast as <em class="xref py py-obj">int_</em> (<em class="xref py py-obj">l</em>). The
<em class="xref py py-obj">ulonglong</em> type (<em class="xref py py-obj">Q</em>) now stays as <em class="xref py py-obj">ulonglong</em> instead of <em class="xref py py-obj">uint</em> (<em class="xref py py-obj">L</em>).</p></li>
<li><p>the <em class="xref py py-obj">timedelta64</em> type (<em class="xref py py-obj">m</em>) can now be mixed with any integer type (<em class="xref py py-obj">b h i l
q p B H I L Q P</em>), previously it raised <em class="xref py py-obj">TypeError</em>.</p></li>
</ul>
<p>For array + scalar, the above rules just broadcast except the case when
the array and scalars are unsigned/signed integers, then the result gets
converted to the array type (of possibly larger size) as illustrated by the
following examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">int16</span><span class="p">(</span><span class="mi">257</span><span class="p">))</span><span class="o">.</span><span class="n">dtype</span>
<span class="go">dtype(&#39;uint16&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">uint16</span><span class="p">(</span><span class="mi">257</span><span class="p">))</span><span class="o">.</span><span class="n">dtype</span>
<span class="go">dtype(&#39;int16&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int16</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">uint32</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">17</span><span class="p">))</span><span class="o">.</span><span class="n">dtype</span>
<span class="go">dtype(&#39;int32&#39;)</span>
</pre></div>
</div>
<p>Whether the size gets increased depends on the size of the scalar, for
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">int16</span><span class="p">(</span><span class="mi">255</span><span class="p">))</span><span class="o">.</span><span class="n">dtype</span>
<span class="go">dtype(&#39;uint8&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">int16</span><span class="p">(</span><span class="mi">256</span><span class="p">))</span><span class="o">.</span><span class="n">dtype</span>
<span class="go">dtype(&#39;uint16&#39;)</span>
</pre></div>
</div>
<p>Also a <code class="docutils literal notranslate"><span class="pre">complex128</span></code> scalar + <code class="docutils literal notranslate"><span class="pre">float32</span></code> array is cast to <code class="docutils literal notranslate"><span class="pre">complex64</span></code>.</p>
<p>In NumPy 1.7 the <em class="xref py py-obj">datetime64</em> type (<em class="xref py py-obj">M</em>) must be constructed by explicitly
specifying the type as the second argument (e.g. <code class="docutils literal notranslate"><span class="pre">np.datetime64(2000,</span> <span class="pre">'Y')</span></code>).</p>
</div>
</div>
<div class="section" id="deprecations">
<h2>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>General<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Specifying a custom string formatter with a <em class="xref py py-obj">_format</em> array attribute is
deprecated. The new <a class="reference external" href="https://docs.python.org/dev/library/formatter.html#module-formatter" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">formatter</span></code></a> keyword in <code class="docutils literal notranslate"><span class="pre">numpy.set_printoptions</span></code> or
<code class="docutils literal notranslate"><span class="pre">numpy.array2string</span></code> can be used instead.</p>
<p>The deprecated imports in the polynomial package have been removed.</p>
<p><code class="docutils literal notranslate"><span class="pre">concatenate</span></code> now raises DepractionWarning for 1D arrays if <code class="docutils literal notranslate"><span class="pre">axis</span> <span class="pre">!=</span> <span class="pre">0</span></code>.
Versions of numpy &lt; 1.7.0 ignored axis argument value for 1D arrays. We
allow this for now, but in due course we will raise an error.</p>
</div>
<div class="section" id="id2">
<h3>C-API<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Direct access to the fields of PyArrayObject* has been deprecated. Direct
access has been recommended against for many releases. Expect similar
deprecations for PyArray_Descr* and other core objects in the future as
preparation for NumPy 2.0.</p>
<p>The macros in old_defines.h are deprecated and will be removed in the next
major release (&gt;= 2.0). The sed script tools/replace_old_macros.sed can be
used to replace these macros with the newer versions.</p>
<p>You can test your code against the deprecated C API by adding a line
composed of <code class="docutils literal notranslate"><span class="pre">#define</span> <span class="pre">NPY_NO_DEPRECATED_API</span></code> and the target version number,
such as <code class="docutils literal notranslate"><span class="pre">NPY_1_7_API_VERSION</span></code>, before including any NumPy headers.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">NPY_CHAR</span></code> member of the <code class="docutils literal notranslate"><span class="pre">NPY_TYPES</span></code> enum is deprecated and will be
removed in NumPy 1.8. See the discussion at
<a class="reference external" href="https://github.com/numpy/numpy/issues/2801">gh-2801</a> for more details.</p>
</div>
</div>
</div>


                        </div>
                        
                    </div>
                    <footer class="footer-rst">
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="1.6.2-notes.html" class="btn btn-neutral float-right" title="NumPy 1.6.2 Release Notes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="1.7.1-notes.html" class="btn btn-neutral float-left" title="NumPy 1.7.1 Release Notes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>

                </div>
            </div>
            <div class="wy-nav-content sidebar-right col-2" id="sidebar-right">
    <div class="sidebar-right-nav" id="sidebar-right-nav">
        <ul>
<li><a class="reference internal" href="#">NumPy 1.7.0 Release Notes</a><ul>
<li><a class="reference internal" href="#highlights">Highlights</a></li>
<li><a class="reference internal" href="#compatibility-notes">Compatibility notes</a></li>
<li><a class="reference internal" href="#new-features">New features</a><ul>
<li><a class="reference internal" href="#reduction-ufuncs-generalize-axis-parameter">Reduction UFuncs Generalize axis= Parameter</a></li>
<li><a class="reference internal" href="#reduction-ufuncs-new-keepdims-parameter">Reduction UFuncs New keepdims= Parameter</a></li>
<li><a class="reference internal" href="#datetime-support">Datetime support</a></li>
<li><a class="reference internal" href="#custom-formatter-for-printing-arrays">Custom formatter for printing arrays</a></li>
<li><a class="reference internal" href="#new-function-numpy-random-choice">New function numpy.random.choice</a></li>
<li><a class="reference internal" href="#new-function-isclose">New function isclose</a></li>
<li><a class="reference internal" href="#preliminary-multi-dimensional-support-in-the-polynomial-package">Preliminary multi-dimensional support in the polynomial package</a></li>
<li><a class="reference internal" href="#ability-to-pad-rank-n-arrays">Ability to pad rank-n arrays</a></li>
<li><a class="reference internal" href="#new-argument-to-searchsorted">New argument to searchsorted</a></li>
<li><a class="reference internal" href="#build-system">Build system</a></li>
<li><a class="reference internal" href="#c-api">C API</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes">Changes</a><ul>
<li><a class="reference internal" href="#general">General</a></li>
<li><a class="reference internal" href="#casting-rules">Casting Rules</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deprecations">Deprecations</a><ul>
<li><a class="reference internal" href="#id1">General</a></li>
<li><a class="reference internal" href="#id2">C-API</a></li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
</div>

<script type="text/javascript">

  $(function () {

    $("<span class='clickMe'><i class='fa fa-angle-up'></i><i class='fa fa-angle-down' style='display: none;'></i><span>").insertBefore(".sidebar-right-nav ul li a.reference" );

    $(".sidebar-right-nav ul li span.clickMe").map(function() {
        if($(this).closest("li").children("ul").length == 0){
          $(this).hide();
        };
    })

    $('.clickMe').click(function () {
        var $i_tag = $(this).find("i");

        $(this).closest("li").find("ul").slideToggle(function(){
          $i_tag.toggle();
        });

    });
});
</script>

            <span href="" onclick="topFunction()" id="scrollTop" title="Go to top" class="btn btn-neutral float-left">
                <i class="fa fa-arrow-circle-up"></i>
            </span>
        </div>
        <!-- </section> -->
    </div>
    
    <div class="footer-area footer--light">
      <div class="footer-big">
        <!-- start .container -->
        <div class="container">
          <div class="row">
            <div class="col-md-3 col-sm-12">
              <div class="footer-widget">
                <div class="widget-about">
                  <img src="../_static/images/numpy_logo.svg" alt="NumPy logo" class="img-fluid">
                  <p>NumPy is the fundamental package needed for scientific computing with Python.</p>
                  <ul class="contact-details">
                    <li>
                      <span class="icon-envelope-open"></span>
                      <a href="https://mail.python.org/mailman/listinfo/numpy-discussion">
                        Mailing list
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
              <!-- Ends: .footer-widget -->
            </div>
            <!-- end /.col-md-4 -->
            <div class="col-md-3 col-sm-4">
              <div class="footer-widget">
                <div class="footer-menu footer-menu--1">
                  <h4 class="footer-widget-title">About us</h4>
                  <ul>
                    <li>
                      <a href="#">Our history</a>
                    </li>
                    <li>
                      <a href="#">Ecosystem</a>
                    </li>
                    <li>
                      <a href="#">Roadmap</a>
                    </li>
                    <li>
                      <a href="#">Team</a>
                    </li>
                  </ul>
                </div>
                <!-- end /.footer-menu -->
              </div>
              <!-- Ends: .footer-widget -->
            </div>
            <!-- end /.col-md-3 -->

            <div class="col-md-3 col-sm-4">
              <div class="footer-widget">
                <div class="footer-menu">
                  <h4 class="footer-widget-title">Community</h4>
                  <ul>
                    <li>
                      <a href="#">Blog</a>
                    </li>
                    <li>
                      <a href="#">Contributing</a>
                    </li>
                    <li>
                      <a href="#">Code of conduct</a>
                    </li>
                    <li>
                      <a href="#">Community survey</a>
                    </li>
                  </ul>
                </div>
                <!-- end /.footer-menu -->
              </div>
              <!-- Ends: .footer-widget -->
            </div>
            <!-- end /.col-lg-3 -->

            <div class="col-md-3 col-sm-4">
              <div class="footer-widget">
                <div class="footer-menu no-padding">
                  <h4 class="footer-widget-title">Learning &  Documentation</h4>
                  <ul>
                    <li>
                      <a href="#">User guide</a>
                    </li>
                    <li>
                      <a href="#">API reference</a>
                    </li>
                    <li>
                      <a href="#">Release notes</a>
                    </li>
                    <li>
                      <a href="#">Tutorials</a>
                    </li>
                    <li>
                      <a href="#">Videos</a>
                    </li>
                    <li>
                      <a href="#">Books</a>
                    </li>
                    <li>
                      <a href="#">Courses</a>
                    </li>
                  </ul>
                </div>
                <!-- end /.footer-menu -->
              </div>
              <!-- Ends: .footer-widget -->
            </div>
            <!-- Ends: .col-lg-3 -->

          </div>
          <!-- end /.row -->
        </div>
        <!-- end /.container -->
      </div>
      <!-- end /.footer-big -->

      <div class="mini-footer">
        <div class="container">
          <div class="row">
            <div class="col-md-12">
              <div class="copyright-text">
                <p>&copy; <span id="year"></span>
                  <a href="#">NumPy Developers</a>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    

    <!-- TODO: write js code in separate files. -->

<script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
</script>


  <!-- bootstrap js -->
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script> 


<script type="text/javascript">
// If jquery is not used later on then remove the jquery and use
// plain javascript : window.load() function instead of document.ready
$(document).ready(function() {
    $(".bg_loader").delay(500).fadeOut(500);
    $(".bg_loader").css("display", "block");


});
</script>

<!-- every anchor tag will do smooth scroll -->
<script type="text/javascript">
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();

        document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
        });
    });
});

</script>

<script>
//Get the button
var mybutton = document.getElementById('scrollTop');

// When the user scrolls down 20px from the top of the document, show the button
$(document).scroll(function() {
    console.log('Scrolled to ' + $(this).scrollTop());
  })

$( window ).scroll(function() {
  console.log('Scrolled to ' + $(this).scrollTop());
});

$("#scrollTop").on( 'scroll', function(){
   console.log('Event Fired');
});

window.onscroll = function()  {
  console.log(document.body.scrollTop );
  console.log('Scroll event fired.......');
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  console.log(document.body.scrollTop );
  console.log('Click event fired.......');
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
  $('html, body').animate({
      scrollTop: 0
    }, 800);

}
</script>

<!-- get the current year for footer -->
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>
</body>

</html>